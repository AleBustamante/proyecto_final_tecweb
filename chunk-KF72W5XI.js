import{a as y,b as a,c as N,d as q,e as G,f as I,g as P,h as T,i as D}from"./chunk-GSNE5QMD.js";import{A as d,B as h,C as _,D as u,G as n,H as t,I as F,K as C,L as w,N as o,P as x,R,ba as E,ea as A,m as S,v as r,w as b}from"./chunk-MSEZYSR3.js";function j(i,l){i&1&&(n(0,"div",5),o(1," Username is required "),t())}function B(i,l){i&1&&(n(0,"div",5),o(1," Valid email is required "),t())}function M(i,l){i&1&&(n(0,"div",5),o(1," Password is required (minimum 6 characters) "),t())}function U(i,l){if(i&1&&(n(0,"div",9),o(1),t()),i&2){let m=w();r(),x(" ",m.error," ")}}var V=class i{constructor(l,m,e){this.fb=l;this.authService=m;this.router=e;this.registerForm=this.fb.group({username:["",[a.required]],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]]})}registerForm;error="";onSubmit(){this.registerForm.valid&&this.authService.register(this.registerForm.value).subscribe({next:()=>{this.router.navigate(["/login"])},error:l=>{this.error=l.error.message||"Registration failed"}})}static \u0275fac=function(m){return new(m||i)(b(T),b(A),b(E))};static \u0275cmp=S({type:i,selectors:[["app-register"]],standalone:!0,features:[R],decls:22,vars:12,consts:[[1,"container","mx-auto","mt-8","max-w-md"],[1,"text-2xl","font-bold","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","username",1,"w-full","p-2","border","rounded"],[1,"text-red-500","text-sm","mt-1"],["type","email","formControlName","email",1,"w-full","p-2","border","rounded"],["type","password","formControlName","password",1,"w-full","p-2","border","rounded"],["type","submit",1,"w-full","bg-blue-500","text-white","p-2","rounded","hover:bg-blue-600","disabled:bg-gray-400",3,"disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(m,e){if(m&1&&(n(0,"div",0)(1,"h2",1),o(2,"Register"),t(),n(3,"form",2),C("ngSubmit",function(){return e.onSubmit()}),n(4,"div")(5,"label",3),o(6,"Username"),t(),F(7,"input",4),d(8,j,2,0,"div",5),t(),n(9,"div")(10,"label",3),o(11,"Email"),t(),F(12,"input",6),d(13,B,2,0,"div",5),t(),n(14,"div")(15,"label",3),o(16,"Password"),t(),F(17,"input",7),d(18,M,2,0,"div",5),t(),n(19,"button",8),o(20," Register "),t(),d(21,U,2,1,"div",9),t()()),m&2){let s,p,g,c,v,f;r(3),h("formGroup",e.registerForm),r(4),_("border-red-500",((s=e.registerForm.get("username"))==null?null:s.touched)&&((s=e.registerForm.get("username"))==null?null:s.invalid)),r(),u((p=e.registerForm.get("username"))!=null&&p.touched&&((p=e.registerForm.get("username"))!=null&&p.invalid)?8:-1),r(4),_("border-red-500",((g=e.registerForm.get("email"))==null?null:g.touched)&&((g=e.registerForm.get("email"))==null?null:g.invalid)),r(),u((c=e.registerForm.get("email"))!=null&&c.touched&&((c=e.registerForm.get("email"))!=null&&c.invalid)?13:-1),r(4),_("border-red-500",((v=e.registerForm.get("password"))==null?null:v.touched)&&((v=e.registerForm.get("password"))==null?null:v.invalid)),r(),u((f=e.registerForm.get("password"))!=null&&f.touched&&((f=e.registerForm.get("password"))!=null&&f.invalid)?18:-1),r(),h("disabled",e.registerForm.invalid),r(2),u(e.error?21:-1)}},dependencies:[D,G,y,N,q,I,P],encapsulation:2})};export{V as RegisterComponent};
