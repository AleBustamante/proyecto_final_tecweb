import{$ as k,B as C,C as _,O as F,R as S,S as w,T as g,U as P,V as y,W as M,X as N,Y as O,Z as E,d as f,h as r,i as s,j as b,k as u,l as c,m as v,p as n,q as o,r as p,v as h,w as x,z as i}from"./chunk-DVIPSAE3.js";function L(a,l){if(a&1&&(n(0,"div",7),i(1),o()),a&2){let t=x();r(),C(" ",t.error," ")}}var I=class a{constructor(l,t,e){this.fb=l;this.authService=t;this.router=e;this.loginForm=this.fb.group({username:["",g.required],password:["",g.required]})}loginForm;error="";onSubmit(){if(this.loginForm.valid){let{username:l,password:t}=this.loginForm.value;this.authService.login(l,t).subscribe({next:()=>{this.router.navigate(["/buscar-peliculas"])},error:e=>{this.error=e.error.message||"Invalid credentials"}})}}static \u0275fac=function(t){return new(t||a)(s(E),s(S),s(F))};static \u0275cmp=f({type:a,selectors:[["app-login"]],standalone:!0,features:[_],decls:15,vars:7,consts:[[1,"container","mx-auto","mt-8","max-w-md"],[1,"text-2xl","font-bold","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","mb-1"],["type","text","formControlName","username",1,"w-full","p-2","border","rounded"],["type","password","formControlName","password",1,"w-full","p-2","border","rounded"],["type","submit",1,"w-full","bg-blue-500","text-white","p-2","rounded","hover:bg-blue-600","disabled:bg-gray-400",3,"disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(t,e){if(t&1&&(n(0,"div",0)(1,"h2",1),i(2,"Login"),o(),n(3,"form",2),h("ngSubmit",function(){return e.onSubmit()}),n(4,"div")(5,"label",3),i(6,"Username"),o(),p(7,"input",4),o(),n(8,"div")(9,"label",3),i(10,"Password"),o(),p(11,"input",5),o(),n(12,"button",6),i(13," Login "),o(),b(14,L,2,1,"div",7),o()()),t&2){let m,d;r(3),u("formGroup",e.loginForm),r(4),c("border-red-500",((m=e.loginForm.get("username"))==null?null:m.touched)&&((m=e.loginForm.get("username"))==null?null:m.invalid)),r(4),c("border-red-500",((d=e.loginForm.get("password"))==null?null:d.touched)&&((d=e.loginForm.get("password"))==null?null:d.invalid)),r(),u("disabled",e.loginForm.invalid),r(2),v(e.error?14:-1)}},dependencies:[k,M,w,P,y,N,O],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#130728;border-radius:10px;align-items:center}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-align:center}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#fff;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.8rem;margin-bottom:1.5rem;background-color:#2a1e4d;color:#fff;border:1px solid #555;border-radius:4px;font-size:1rem;transition:border-color .3s}input[_ngcontent-%COMP%]:invalid{border-color:#e74c3c}input[_ngcontent-%COMP%]:focus{border-color:#7d3cff;outline:none}button[_ngcontent-%COMP%]{width:100%;padding:.8rem;background-color:#3a096f;color:#fff;border:none;border-radius:4px;font-size:1rem;margin-left:10px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#491085}.text-red-500[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:1rem}']})};export{I as LoginComponent};
