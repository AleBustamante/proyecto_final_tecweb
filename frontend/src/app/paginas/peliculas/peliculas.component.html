@if (watchList.length > 0) {
  <h2>Resultados de la búsqueda:</h2>
  <table>
    <thead>
      <tr>
        <th>Título</th>
        <th>Visto</th>
        <th>Fecha de lanzamiento</th>
        <th>Géneros</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (movie of watchList; track movie.movie_id) {
        <tr>
          <td>{{ movie.title }}</td>
          <td>
            <div class="watched-toggle">
              <input
                type="checkbox"
                [checked]="movie.watched"
                (change)="actualizarEstadoVisto(movie.movie_id, !movie.watched)"
                id="watched-{{ movie.movie_id }}"
              />
              <label for="watched-{{ movie.movie_id }}">
                {{ movie.watched ? "Visto" : "No visto" }}
              </label>
            </div>
          </td>
          <td>{{ movie.release_date }}</td>
          <td>
            @if (movie.genres && movie.genres.length > 0) {
              @for (genero of movie.genres; track genero.id) {
                <ul>
                  <li>{{ genero.name }}</li>
                </ul>
              }
            }
          </td>
          <td>
            <button (click)="eliminarElementoWatchlist(movie.movie_id)">
              Eliminar
            </button>
          </td>
        </tr>
      }
    </tbody>
  </table>
} @else {
  <h2>No se encontraron películas</h2>
}
